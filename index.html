<!DOCTYPE HTML>
<html>
<head>
     <meta charset="UTF-8"> 
     <title>sequences</title>
     <link href="sequences.css" rel="stylesheet" type="text/css">

     <script src="//d3js.org/d3.v3.min.js"></script>
     
     <script type="text/javascript">
         
         var letters = new Array();
         
         function clearTable () {
             document.getElementById("probeInfo").innerHTML = "";
         }
         
         function testFunc() { 
             
             var mag = document.getElementById("magic_string").value.match(/\d+\D{1}/g);
             var explainedSet = new Array();
             
             document.getElementById("probeInfo").innerHTML = "";

             var chunk_adder = 0;
             for (i=0;i<mag.length;i++) {
                 
                 var chunk_start = chunk_adder + 1;
                 var chunk_name = mag[i]
                 var capture_legth = chunk_name.match(/(\d+)/g);
                 var chunk_legth = parseInt(capture_legth[0]);
                 
                 var chunk_end = chunk_adder + chunk_legth;
                 
                 var chunk_type = chunk_name.match(/\D/);
                 letters.push(chunk_type);
                 
                 explainedSet[explainedSet.length] = [i, chunk_name, chunk_legth, chunk_type, chunk_start, chunk_end];
                 chunk_adder = chunk_end;
             }
             
             var tBody = d3.select("#probeInfo").selectAll("tr").data(explainedSet).enter().append("tr");
             tBody.append("td").text(d => d[0]);
             tBody.append("td").text(d => d[1]);
             tBody.append("td").text(d => d[2]);
             tBody.append("td").text(d => d[3]);
             tBody.append("td").text(d => d[4]);
             tBody.append("td").text(d => d[5]);
         }
         //testFunc()


         
         
     </script>
     
</head>
<body>
<div class="container">
<div class="into">

<div class="bind"></div>

<div class="facultyid">
<h2>spligner output</h2></div>

<div class="bind"></div>


<div class="text">
    

        <p>
        <textarea name="magic_string" id="magic_string"></textarea>
        </p>
        <button type="button" class="button" onclick="testFunc();">Go</button> &nbsp; <button type="button" class="button" onclick="clearTable();">Clear</button>


</div>

<div class="text" id="output_table">
    <table class="massive_table">
        <thead><tr><th>order</th><th>chunk</th><th>length</th><th>type</th><th>start</th><th>stop</th></tr></thead>
        <tbody id="probeInfo"></tbody>
    </table>
</div>

<div id="footer">

<p>developed by <a href="http://orcid.org/0000-0001-9301-314X">NS</a> using JS... </p>
</div>

</div>
</div>

</body></html>